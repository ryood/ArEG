Version 4
SHEET 1 1100 680
WIRE -384 -336 -400 -336
WIRE -400 -320 -400 -336
WIRE 256 -288 240 -288
WIRE 256 -272 256 -288
WIRE -336 -176 -400 -176
WIRE 256 -176 256 -192
WIRE -400 -160 -400 -176
WIRE 864 -160 528 -160
WIRE 528 -128 528 -160
WIRE 256 -80 256 -96
WIRE 256 -80 224 -80
WIRE 464 -80 256 -80
WIRE 256 -64 256 -80
WIRE 864 -48 864 -160
WIRE -336 -32 -400 -32
WIRE -400 -16 -400 -32
WIRE 528 -16 528 -32
WIRE 256 64 256 16
WIRE 208 80 192 80
WIRE 544 80 528 80
WIRE 528 96 528 80
WIRE -336 112 -400 112
WIRE 480 112 464 112
WIRE -400 128 -400 112
WIRE 208 128 192 128
WIRE 192 160 192 128
WIRE 256 160 256 144
WIRE 480 160 464 160
WIRE 464 192 464 160
WIRE 528 192 528 176
WIRE 720 192 528 192
WIRE 864 192 864 32
WIRE 864 192 800 192
WIRE 896 192 864 192
WIRE 720 288 528 288
WIRE 864 288 864 192
WIRE 864 288 800 288
WIRE 528 320 528 288
WIRE 480 336 464 336
WIRE 864 336 864 288
WIRE 480 384 464 384
WIRE 464 416 464 384
WIRE 528 416 528 400
WIRE 864 416 864 400
FLAG 192 80 Decay
IOPIN 192 80 In
FLAG 256 -288 +5V
FLAG 256 160 0
FLAG 528 -16 0
FLAG 464 112 Attack
IOPIN 464 112 In
FLAG 464 336 Release
IOPIN 464 336 In
FLAG 864 416 0
FLAG 896 192 ADSR
IOPIN 896 192 Out
FLAG -400 -336 +5V
FLAG -400 -240 0
FLAG -336 -176 Attack
IOPIN -336 -176 Out
FLAG -400 -80 0
FLAG -336 -32 Decay
IOPIN -336 -32 Out
FLAG -336 112 Release
IOPIN -336 112 Out
FLAG -400 208 0
FLAG -400 64 0
FLAG 224 -80 Sustain_Level
IOPIN 224 -80 Out
FLAG 192 160 0
FLAG 528 416 0
FLAG 464 416 0
FLAG 464 192 0
FLAG 528 80 +5V
SYMBOL res 240 -80 R0
SYMATTR InstName R2
SYMATTR Value {Rsustain}
SYMBOL res 240 -192 R0
SYMATTR InstName R3
SYMATTR Value {50k-Rsustain}
SYMBOL res 240 -288 R0
SYMATTR InstName R4
SYMATTR Value 22k
SYMBOL res 816 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {Rattack}
SYMBOL res 816 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {Rrelease}
SYMBOL res 848 -64 R0
SYMATTR InstName R7
SYMATTR Value {Rdecay}
SYMBOL cap 848 336 R0
SYMATTR InstName C1
SYMATTR Value {C}
SYMBOL voltage -400 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -400 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 0 1u 1u 20m 200m)
SYMBOL voltage -400 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(5 0 0 1u 1u 100m 200m)
SYMBOL pnp 464 -32 M180
SYMATTR InstName Q1
SYMATTR Value QA1015
SYMBOL bv -400 -32 R0
SYMATTR InstName B1
SYMATTR Value V=5-V(Attack)
SYMBOL sw 256 160 M180
SYMATTR InstName S1
SYMATTR Value SW_Decay
SYMBOL sw 528 192 M180
SYMATTR InstName S2
SYMATTR Value SW_Attack
SYMBOL sw 528 416 M180
SYMATTR InstName S3
SYMATTR Value SW_Release
TEXT 624 -368 Left 2 !.param Rattack 10k
TEXT 624 -336 Left 2 !.param Rdecay 10k
TEXT 624 -304 Left 2 !.param Rsustain 25k
TEXT 624 -272 Left 2 !.param Rrelease 25k
TEXT -416 440 Left 2 !.tran 500m
TEXT 624 -224 Left 2 !.param C 1u
TEXT -416 304 Left 2 !.Model SW_Attack SW(Ron=10m Roff=10Meg Vt=3)
TEXT -416 336 Left 2 !.Model SW_Decay SW(Ron=10m Roff=10Meg Vt=3)
TEXT -416 368 Left 2 !.Model SW_Release SW(Ron=10m Roff=10Meg Vt=3)
