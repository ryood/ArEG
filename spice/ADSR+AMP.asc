Version 4
SHEET 1 1960 680
WIRE -336 -352 -352 -352
WIRE -240 -352 -256 -352
WIRE -144 -352 -160 -352
WIRE 912 -352 896 -352
WIRE -352 -336 -352 -352
WIRE -256 -336 -256 -352
WIRE -160 -336 -160 -352
WIRE 896 -336 896 -352
WIRE 256 -288 240 -288
WIRE 256 -272 256 -288
WIRE 1568 -256 1552 -256
WIRE 1664 -256 1648 -256
WIRE 896 -240 896 -256
WIRE 1088 -240 896 -240
WIRE 1200 -240 1168 -240
WIRE 896 -224 896 -240
WIRE -288 -176 -352 -176
WIRE 256 -176 256 -192
WIRE 1616 -176 1600 -176
WIRE -352 -160 -352 -176
WIRE 736 -160 528 -160
WIRE 1600 -160 1600 -176
WIRE 1456 -144 1440 -144
WIRE 1552 -144 1552 -256
WIRE 1552 -144 1536 -144
WIRE 1568 -144 1552 -144
WIRE 528 -128 528 -160
WIRE 896 -128 896 -144
WIRE 912 -128 896 -128
WIRE 1664 -128 1664 -256
WIRE 1664 -128 1632 -128
WIRE 1680 -128 1664 -128
WIRE 1776 -128 1760 -128
WIRE 736 -112 736 -160
WIRE 1568 -112 1552 -112
WIRE 256 -80 256 -96
WIRE 256 -80 224 -80
WIRE 464 -80 256 -80
WIRE 1600 -80 1600 -96
WIRE 1616 -80 1600 -80
WIRE 256 -64 256 -80
WIRE 1296 -64 1264 -64
WIRE 1408 -64 1376 -64
WIRE 1552 -48 1552 -112
WIRE -288 -32 -352 -32
WIRE -352 -16 -352 -32
WIRE 528 -16 528 -32
WIRE 1024 -16 880 -16
WIRE 1344 16 1328 16
WIRE 256 32 256 16
WIRE 960 32 944 32
WIRE 1328 32 1328 16
WIRE 944 48 944 32
WIRE 1264 48 1264 -64
WIRE 1296 48 1264 48
WIRE 880 64 880 -16
WIRE 912 64 880 64
WIRE 1408 64 1408 -64
WIRE 1408 64 1360 64
WIRE 1440 64 1440 -144
WIRE 1440 64 1408 64
WIRE 1680 64 1440 64
WIRE 1776 64 1760 64
WIRE 1024 80 1024 -16
WIRE 1024 80 976 80
WIRE 1088 80 1024 80
WIRE 1200 80 1200 -240
WIRE 1200 80 1168 80
WIRE 1296 80 1200 80
WIRE 496 96 480 96
WIRE 608 96 560 96
WIRE 736 96 736 -32
WIRE 736 96 688 96
WIRE 912 96 736 96
WIRE -288 112 -352 112
WIRE 160 112 112 112
WIRE 208 112 160 112
WIRE 1328 112 1328 96
WIRE 1344 112 1328 112
WIRE -352 128 -352 112
WIRE 944 128 944 112
WIRE 960 128 944 128
WIRE 1264 128 1264 48
WIRE 1664 128 1552 128
WIRE 160 144 160 112
WIRE 1616 160 1600 160
WIRE 1600 176 1600 160
WIRE 1552 192 1552 128
WIRE 1568 192 1552 192
WIRE 736 208 736 96
WIRE 784 208 736 208
WIRE 1664 208 1664 128
WIRE 1664 208 1632 208
WIRE 1680 208 1664 208
WIRE 1792 208 1760 208
WIRE 496 224 480 224
WIRE 608 224 560 224
WIRE 736 224 736 208
WIRE 736 224 688 224
WIRE 1264 224 1264 208
WIRE 1440 224 1440 64
WIRE 1568 224 1440 224
WIRE 160 240 160 224
WIRE 256 240 256 128
WIRE 1792 240 1792 208
WIRE 736 256 736 224
WIRE 1600 256 1600 240
WIRE 1616 256 1600 256
WIRE 1792 320 1792 304
WIRE 736 336 736 320
FLAG 112 112 Decay
IOPIN 112 112 In
FLAG 256 -288 +5V
FLAG 160 240 0
FLAG 256 240 0
FLAG 528 -16 0
FLAG 480 96 Attack
IOPIN 480 96 In
FLAG 480 224 Release
IOPIN 480 224 In
FLAG 736 336 0
FLAG 784 208 ADSR
IOPIN 784 208 Out
FLAG -352 -352 +5V
FLAG -352 -256 0
FLAG -288 -176 Attack
IOPIN -288 -176 Out
FLAG -352 -80 0
FLAG -288 -32 Decay
IOPIN -288 -32 Out
FLAG -288 112 Release
IOPIN -288 112 Out
FLAG -352 208 0
FLAG -352 64 0
FLAG 224 -80 Sustain_Level
IOPIN 224 -80 Out
FLAG -256 -352 +12V
FLAG -256 -256 0
FLAG -160 -352 -12V
FLAG -160 -256 0
FLAG 944 32 +12V
FLAG 944 128 -12V
FLAG 896 -352 +12V
FLAG 896 -128 -12V
FLAG 1328 16 +12V
FLAG 1328 112 -12V
FLAG 1264 224 0
FLAG 1600 -176 +12V
FLAG 1600 -80 -12V
FLAG 1552 -48 0
FLAG 1776 -128 INV_OUT
IOPIN 1776 -128 Out
FLAG 1776 64 OUT
IOPIN 1776 64 Out
FLAG 1600 160 +12V
FLAG 1600 256 -12V
FLAG 1792 320 0
SYMBOL res 144 128 R0
SYMATTR InstName R1
SYMATTR Value 1Meg
SYMBOL nmos 208 32 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL res 240 -80 R0
SYMATTR InstName R2
SYMATTR Value {Rsustain}
SYMBOL res 240 -192 R0
SYMATTR InstName R3
SYMATTR Value {50k-Rsustain}
SYMBOL res 240 -288 R0
SYMATTR InstName R4
SYMATTR Value 22k
SYMBOL schottky 496 112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMBOL res 704 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {Rattack}
SYMBOL schottky 560 240 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value BAT54
SYMBOL res 704 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {Rrelease}
SYMBOL res 720 -128 R0
SYMATTR InstName R7
SYMATTR Value {Rdecay}
SYMBOL cap 720 256 R0
SYMATTR InstName C1
SYMATTR Value {C}
SYMBOL voltage -352 -352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -352 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 0 1u 1u 20m 200m)
SYMBOL voltage -352 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 5 0 1u 1u 100m 200m)
SYMBOL pnp 464 -32 M180
SYMATTR InstName Q1
SYMATTR Value QA1015
SYMBOL bv -352 -32 R0
SYMATTR InstName B1
SYMATTR Value V=5-V(Attack)
SYMBOL Opamps\\UniversalOpamp2 944 80 R0
SYMATTR InstName U1
SYMBOL voltage -256 -352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL voltage -160 -352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value -12
SYMBOL res 880 -240 R0
SYMATTR InstName R10
SYMATTR Value {Rbias}
SYMBOL res 880 -352 R0
SYMATTR InstName R11
SYMATTR Value {100k-Rbias}
SYMBOL res 1184 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 8.2k
SYMBOL res 1184 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 220k
SYMBOL Opamps\\UniversalOpamp2 1328 64 R0
SYMATTR InstName U2
SYMBOL res 1392 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 120k
SYMBOL res 1248 112 R0
SYMATTR InstName R9
SYMATTR Value 470k
SYMBOL Opamps\\UniversalOpamp2 1600 -128 R0
SYMATTR InstName U3
SYMBOL Opamps\\UniversalOpamp2 1600 208 R0
SYMATTR InstName U4
SYMBOL res 1664 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 100k
SYMBOL res 1552 -160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 100k
SYMBOL res 1776 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL res 1776 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 1k
SYMBOL res 1776 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL LED 1776 240 R0
SYMATTR InstName D3
TEXT 528 -376 Left 2 !.param Rattack 10k
TEXT 528 -344 Left 2 !.param Rdecay 10k
TEXT 528 -312 Left 2 !.param Rsustain 25k
TEXT 528 -280 Left 2 !.param Rrelease 10k
TEXT -368 328 Left 2 !.tran 500m
TEXT 528 -232 Left 2 !.param C 1u
TEXT 1088 -360 Left 2 !.param Rbias 40k
