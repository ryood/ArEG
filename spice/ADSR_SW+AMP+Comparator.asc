Version 4
SHEET 1 1660 760
WIRE -384 -336 -400 -336
WIRE -288 -336 -304 -336
WIRE -192 -336 -208 -336
WIRE -400 -320 -400 -336
WIRE -304 -320 -304 -336
WIRE -208 -320 -208 -336
WIRE 256 -288 240 -288
WIRE 256 -272 256 -288
WIRE -336 -176 -400 -176
WIRE 256 -176 256 -192
WIRE -400 -160 -400 -176
WIRE 800 -160 528 -160
WIRE 528 -128 528 -160
WIRE 256 -80 256 -96
WIRE 256 -80 224 -80
WIRE 464 -80 256 -80
WIRE 256 -64 256 -80
WIRE 800 -48 800 -160
WIRE -336 -32 -400 -32
WIRE -400 -16 -400 -32
WIRE 528 -16 528 -32
WIRE 1008 48 976 48
WIRE 1120 48 1088 48
WIRE 256 64 256 16
WIRE 1248 64 1232 64
WIRE 1344 64 1328 64
WIRE 208 80 192 80
WIRE 544 80 528 80
WIRE 528 96 528 80
WIRE -336 112 -400 112
WIRE 480 112 464 112
WIRE -400 128 -400 112
WIRE 208 128 192 128
WIRE 1072 128 1056 128
WIRE 1056 144 1056 128
WIRE 1296 144 1280 144
WIRE 192 160 192 128
WIRE 256 160 256 144
WIRE 480 160 464 160
WIRE 976 160 976 48
WIRE 1024 160 976 160
WIRE 1280 160 1280 144
WIRE 1120 176 1120 48
WIRE 1120 176 1088 176
WIRE 1136 176 1120 176
WIRE 1232 176 1232 64
WIRE 1232 176 1216 176
WIRE 1248 176 1232 176
WIRE 464 192 464 160
WIRE 528 192 528 176
WIRE 656 192 528 192
WIRE 800 192 800 32
WIRE 800 192 736 192
WIRE 1024 192 800 192
WIRE 1344 192 1344 64
WIRE 1344 192 1312 192
WIRE 1360 192 1344 192
WIRE 1248 208 1232 208
WIRE 976 224 976 160
WIRE 1056 224 1056 208
WIRE 1072 224 1056 224
WIRE 1280 240 1280 224
WIRE 1296 240 1280 240
WIRE 1232 272 1232 208
WIRE 656 288 528 288
WIRE 800 288 800 192
WIRE 800 288 736 288
WIRE 880 288 800 288
WIRE 528 320 528 288
WIRE 976 320 976 304
WIRE 1120 320 1120 176
WIRE 1360 320 1120 320
WIRE 480 336 464 336
WIRE 800 336 800 288
WIRE 480 384 464 384
WIRE 1312 384 1200 384
WIRE 464 416 464 384
WIRE 528 416 528 400
WIRE 800 416 800 400
WIRE 1264 416 1248 416
WIRE 1248 432 1248 416
WIRE 1200 448 1200 384
WIRE 1216 448 1200 448
WIRE 1312 464 1312 384
WIRE 1312 464 1280 464
WIRE 1328 464 1312 464
WIRE 1424 464 1408 464
WIRE 880 480 880 288
WIRE 1216 480 880 480
WIRE 1424 496 1424 464
WIRE 1248 512 1248 496
WIRE 944 560 928 560
WIRE 1040 560 1024 560
WIRE 1056 560 1040 560
WIRE 1152 560 1136 560
WIRE 1424 576 1424 560
WIRE 1104 640 1088 640
WIRE 1088 656 1088 640
WIRE 1040 672 1040 560
WIRE 1056 672 1040 672
WIRE 1136 688 1120 688
WIRE 880 704 880 480
WIRE 1056 704 880 704
WIRE 1088 736 1088 720
FLAG 192 80 Decay
IOPIN 192 80 In
FLAG 256 -288 +5V
FLAG 256 160 0
FLAG 528 -16 0
FLAG 464 112 Attack
IOPIN 464 112 In
FLAG 464 336 Release
IOPIN 464 336 In
FLAG 800 416 0
FLAG 1136 688 Threshold
IOPIN 1136 688 Out
FLAG -400 -336 +5V
FLAG -400 -240 0
FLAG -336 -176 Attack
IOPIN -336 -176 Out
FLAG -400 -80 0
FLAG -336 -32 Decay
IOPIN -336 -32 Out
FLAG -336 112 Release
IOPIN -336 112 Out
FLAG -400 208 0
FLAG -400 64 0
FLAG 224 -80 Sustain_Level
IOPIN 224 -80 Out
FLAG 192 160 0
FLAG 528 416 0
FLAG 464 416 0
FLAG 464 192 0
FLAG 528 80 +5V
FLAG 1056 128 +12V
FLAG 1056 224 -12V
FLAG 976 320 0
FLAG 1280 144 +12V
FLAG 1280 240 -12V
FLAG 1232 272 0
FLAG 1360 320 OUT
IOPIN 1360 320 Out
FLAG 1360 192 INV_OUT
IOPIN 1360 192 Out
FLAG -304 -240 0
FLAG -208 -240 0
FLAG -304 -336 +12V
FLAG -208 -336 -12V
FLAG 1088 736 0
FLAG 1248 512 0
FLAG 1152 560 +5V
FLAG 928 560 0
FLAG 1088 640 +5V
FLAG 1248 416 +5V
FLAG 1424 576 0
SYMBOL res 240 -80 R0
SYMATTR InstName R2
SYMATTR Value {Rsustain}
SYMBOL res 240 -192 R0
SYMATTR InstName R3
SYMATTR Value {50k-Rsustain}
SYMBOL res 240 -288 R0
SYMATTR InstName R4
SYMATTR Value 22k
SYMBOL res 752 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {Rattack}
SYMBOL res 752 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {Rrelease}
SYMBOL res 784 -64 R0
SYMATTR InstName R7
SYMATTR Value {Rdecay}
SYMBOL cap 784 336 R0
SYMATTR InstName C1
SYMATTR Value {C}
SYMBOL voltage -400 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -400 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 0 1u 1u 20m 200m)
SYMBOL voltage -400 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(5 0 0 1u 1u 100m 200m)
SYMBOL pnp 464 -32 M180
SYMATTR InstName Q1
SYMATTR Value QA1015
SYMBOL bv -400 -32 R0
SYMATTR InstName B1
SYMATTR Value V=5-V(Attack)
SYMBOL sw 256 160 M180
SYMATTR InstName S1
SYMATTR Value SW_Decay
SYMBOL sw 528 192 M180
WINDOW 3 -38 -20 Left 2
SYMATTR InstName S2
SYMATTR Value SW_Attack
SYMBOL sw 528 416 M180
WINDOW 3 -38 -49 Left 2
SYMATTR InstName S3
SYMATTR Value SW_Release
SYMBOL Opamps\\UniversalOpamp2 1056 176 R0
SYMATTR InstName U1
SYMBOL res 1104 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res 960 208 R0
SYMATTR InstName R8
SYMATTR Value 68k
SYMBOL Opamps\\UniversalOpamp2 1280 192 R0
SYMATTR InstName U2
SYMBOL res 1232 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL res 1344 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL voltage -304 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL voltage -208 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value -12
SYMBOL Opamps\\UniversalOpamp2 1088 688 R0
SYMATTR InstName U3
SYMBOL Opamps\\UniversalOpamp2 1248 464 R0
SYMATTR InstName U4
SYMBOL res 928 544 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 20k
SYMBOL res 1040 544 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 1424 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL LED 1408 496 R0
SYMATTR InstName D1
SYMATTR Value LUW-W5AP
TEXT 624 -368 Left 2 !.param Rattack 10k
TEXT 624 -336 Left 2 !.param Rdecay 10k
TEXT 624 -304 Left 2 !.param Rsustain 25k
TEXT 624 -272 Left 2 !.param Rrelease 25k
TEXT -416 440 Left 2 !.tran 500m
TEXT 624 -224 Left 2 !.param C 1u
TEXT -416 304 Left 2 !.Model SW_Attack SW(Ron=10m Roff=10Meg Vt=3)
TEXT -416 336 Left 2 !.Model SW_Decay SW(Ron=10m Roff=10Meg Vt=3)
TEXT -416 368 Left 2 !.Model SW_Release SW(Ron=10m Roff=10Meg Vt=3)
